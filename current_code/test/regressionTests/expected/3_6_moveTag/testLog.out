Copying pre defined environment
Copying default database
STARTING app...
Now ready
No need for a web client for this test.
Doc Details
Sending request = action=getDocDetail&docid=2
$VAR1 = {
  'DocDetail' => {
    'DocLinks' => {
      'doc' => {
        'targetDocid' => '4',
        'targetTitle' => 'Test 1 TitleText 2'
      }
    },
    'Tags' => {
      'tag' => [
        'tag one',
        'tag two'
      ]
    },
    'actionrequired' => '1',
    'docDate' => '2012/12/31',
    'docid' => '2',
    'extractedText' => 'This is final OCR text 3.',
    'pages' => '1',
    'scanDate' => '2011-01-04T21:13:05.393946Z',
    'title' => 'Test 3 Title',
    'type' => '3',
    'x' => '2519',
    'y' => '3509'
  }
};

Add a tag linkage
Sending request = action=moveTag&docid=2&subaction=addTag&tag=new%20tag
$VAR1 = {
  'MoveTag' => {
    'status' => 'OK'
  }
};

Doc Details - after update
Sending request = action=getDocDetail&docid=2
$VAR1 = {
  'DocDetail' => {
    'DocLinks' => {
      'doc' => {
        'targetDocid' => '4',
        'targetTitle' => 'Test 1 TitleText 2'
      }
    },
    'Tags' => {
      'tag' => [
        'new tag',
        'tag one',
        'tag two'
      ]
    },
    'actionrequired' => '1',
    'docDate' => '2012/12/31',
    'docid' => '2',
    'extractedText' => 'This is final OCR text 3.',
    'pages' => '1',
    'scanDate' => '2011-01-04T21:13:05.393946Z',
    'title' => 'Test 3 Title',
    'type' => '3',
    'x' => '2519',
    'y' => '3509'
  }
};

Add a doc linkage
Sending request = action=moveTag&docid=2&subaction=addDoc&tag=3
$VAR1 = {
  'MoveTag' => {
    'status' => 'OK'
  }
};

Doc Details - after update
Sending request = action=getDocDetail&docid=2
$VAR1 = {
  'DocDetail' => {
    'DocLinks' => {
      'doc' => [
        {
          'targetDocid' => '4',
          'targetTitle' => 'Test 1 TitleText 2'
        },
        {
          'targetDocid' => '3',
          'targetTitle' => 'Test 2 Title text'
        }
      ]
    },
    'Tags' => {
      'tag' => [
        'new tag',
        'tag one',
        'tag two'
      ]
    },
    'actionrequired' => '1',
    'docDate' => '2012/12/31',
    'docid' => '2',
    'extractedText' => 'This is final OCR text 3.',
    'pages' => '1',
    'scanDate' => '2011-01-04T21:13:05.393946Z',
    'title' => 'Test 3 Title',
    'type' => '3',
    'x' => '2519',
    'y' => '3509'
  }
};

Remove a tag linkage
Sending request = action=moveTag&docid=2&subaction=removeTag&tag=tag%20two
$VAR1 = {
  'MoveTag' => {
    'status' => 'OK'
  }
};

Doc Details - after update
Sending request = action=getDocDetail&docid=2
$VAR1 = {
  'DocDetail' => {
    'DocLinks' => {
      'doc' => [
        {
          'targetDocid' => '4',
          'targetTitle' => 'Test 1 TitleText 2'
        },
        {
          'targetDocid' => '3',
          'targetTitle' => 'Test 2 Title text'
        }
      ]
    },
    'Tags' => {
      'tag' => [
        'new tag',
        'tag one'
      ]
    },
    'actionrequired' => '1',
    'docDate' => '2012/12/31',
    'docid' => '2',
    'extractedText' => 'This is final OCR text 3.',
    'pages' => '1',
    'scanDate' => '2011-01-04T21:13:05.393946Z',
    'title' => 'Test 3 Title',
    'type' => '3',
    'x' => '2519',
    'y' => '3509'
  }
};

Remove a doc linkage
Sending request = action=moveTag&docid=2&subaction=removeDoc&tag=4
$VAR1 = {
  'MoveTag' => {
    'status' => 'OK'
  }
};

Doc Details - after update
Sending request = action=getDocDetail&docid=2
$VAR1 = {
  'DocDetail' => {
    'DocLinks' => {
      'doc' => {
        'targetDocid' => '3',
        'targetTitle' => 'Test 2 Title text'
      }
    },
    'Tags' => {
      'tag' => [
        'new tag',
        'tag one'
      ]
    },
    'actionrequired' => '1',
    'docDate' => '2012/12/31',
    'docid' => '2',
    'extractedText' => 'This is final OCR text 3.',
    'pages' => '1',
    'scanDate' => '2011-01-04T21:13:05.393946Z',
    'title' => 'Test 3 Title',
    'type' => '3',
    'x' => '2519',
    'y' => '3509'
  }
};

Stopping service
Waiting for valgrind to finish.
